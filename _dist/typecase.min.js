function typecaseAccordionTabInstall(e){void 0===e&&(e=".wp-block-typecase-accordion-tabs");var t=document.querySelectorAll(e);if(t.length){for(i=0;i<t.length;i+=1){var a,n=t[i],s=document.createElement("ul"),o=document.createElement("ul"),c=n.classList.contains("__use-tabs"),r=!n.classList.contains("__load-collapsed")||c;if(o.className=n.className,c){s.dataset.mobileWidth=n.getAttribute("data-mobile-width")||600;var d=document.createElement("nav"),l=document.createElement("button"),p=document.createElement("button");d.classList.add("wp-block-typecase-accordion-tabs--nav"),s.classList.add("wp-block-typecase-accordion-tabs--tabs"),s.ariaControls=o,s.xOffset=0,l.classList.add("wp-block-typecase-accordion-tabs--nav--scroll"),l.classList.add("__left"),l.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M13.293 6.293L7.586 12l5.707 5.707 1.414-1.414L10.414 12l4.293-4.293z"/></svg>',l.addEventListener("click",typecaseAccordionTabScroll),l.ariaControls=s,p.classList.add("wp-block-typecase-accordion-tabs--nav--scroll"),p.classList.add("__right"),p.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M10.707 17.707L16.414 12l-5.707-5.707-1.414 1.414L13.586 12l-4.293 4.293z"/></svg>',p.addEventListener("click",typecaseAccordionTabScroll),p.ariaControls=s,d.append(l),d.append(p),d.append(s)}for(a=n.querySelectorAll(".wp-block-typecase-accordion-tabs-content"),j=0;j<a.length;j+=1){var u=document.createElement("li"),v=document.createElement("button"),b=document.createElement("div"),f=a[j].querySelector(".--title"),y="accordion_"+i+"--section_"+j;if(v.setAttribute("aria-controls",y),v.setAttribute("aria-expanded",0===j&&r?"true":"false"),v.innerHTML=f.innerHTML,v.addEventListener("click",typecaseAccordionTabToggle),v.classList.add("wp-block-typecase-accordion-tabs--toggle"),b.innerHTML=a[j].querySelector(".--content").innerHTML,b.prepend(f),b.setAttribute("aria-hidden",0===j&&r?"false":"true"),b.id=y,b.classList.add("wp-block-typecase-accordion-tabs-content"),(b.ariaContrlledBy=v).ariaControls=b,c){var m=document.createElement("li");m.append(v),s.append(m)}else u.append(v);u.append(b),o.append(u),document.dispatchEvent(new CustomEvent("typecase|accordion-tabs:setup-section",{detail:{accordion:o,section:u,content:b,button:v}}))}o.classList.add("__ready"),n.parentNode.replaceChild(o,n),c?(o.parentNode.insertBefore(d,o),o.ariaNavigation=d,document.dispatchEvent(new CustomEvent("typecase|accordion-tabs:installed-tabs",{detail:{accordion:o,navigation:d}}))):document.dispatchEvent(new CustomEvent("typecase|accordion-tabs:installed-accordion",{detail:{accordion:o}}))}typecaseAccordionResetNavigation(null,e),window.addEventListener("scroll",typecaseAccordionResetNavigation)}}function typecaseAccordionTabToggle(e){e&&e.preventDefault();var t,a=e.currentTarget,n=a.ariaControls,s=a.getAttribute("aria-expanded"),o=a.parentNode.parentNode,c=!1;if(o.classList.contains("wp-block-typecase-accordion-tabs--tabs")&&(c=!0,o=(t=o).ariaControls),"true"===s){if(c)return;a.setAttribute("aria-expanded","false"),n.setAttribute("aria-hidden","true"),document.dispatchEvent(new CustomEvent("typecase|accordion-tabs:closed",{detail:{accordion:o,button:a,content:n,tabs:t}}))}else{if(c||o.classList.contains("__auto-close")){var r=o.querySelectorAll(".wp-block-typecase-accordion-tabs-content");for(i=0;i<r.length;i+=1)r[i].ariaContrlledBy.setAttribute("aria-expanded","false"),r[i].setAttribute("aria-hidden","true");c&&typecaseAccordionShowActiveTab(t,a)}a.setAttribute("aria-expanded","true"),n.setAttribute("aria-hidden","false"),console.log(a,n),document.dispatchEvent(new CustomEvent("typecase|accordion-tabs:opened",{detail:{accordion:o,button:a,content:n,tabs:t}})),n.dispatchEvent(new CustomEvent("typecase|accordion-tab:opened",{detail:{accordion:o,button:a,tabs:t}}))}document.dispatchEvent(new CustomEvent("typecase|accordion-tabs:changed",{detail:{accordion:a.parentNode.parentNode,button:a,content:n,action:s?"closed":"opened"}}))}function typecaseAccordionShowActiveTab(e,t){var a=e.parentNode.getBoundingClientRect(),i=t.getBoundingClientRect(),n=e.parentNode.querySelector(".__left").getBoundingClientRect(),s=e.parentNode.querySelector(".__right").getBoundingClientRect();i.x+i.width>a.x+a.width-s.width?(e.xOffset+=a.x+a.width-s.width-i.x-i.width,e.style.transform="translateX("+e.xOffset+"px)"):i.x<a.x+n.width&&(e.xOffset+=a.x-i.x+n.width,e.style.transform="translateX("+e.xOffset+"px)"),typecaseAccordionResetNavigation()}function typecaseAccordionResetNavigation(e,t){var a;e&&e.preventDefault(),void 0===t&&(t=".wp-block-typecase-accordion-tabs"),a=document.querySelectorAll(t);for(var i=0;i<a.length;i+=1){var n,s,o,c,r,d,l=a[i],p=!1;if(l.classList.contains("__use-tabs")&&((n=l.ariaNavigation)&&(s=n.querySelector(".wp-block-typecase-accordion-tabs--tabs")))){if(n.classList.remove("__mobile-tabs"),window.innerWidth<=parseInt(s.dataset.mobileWidth,10)&&(n.classList.add("__mobile-tabs"),n.classList.add("__has-scroll-buttons"),p=!0,s.xOffset=0,s.style.transform="translateX(0)"),r=n.querySelector(".__left"),d=n.querySelector(".__right"),r.classList.remove("__disabled"),d.classList.remove("__disabled"),p)return;c=s.getBoundingClientRect(),o=n.getBoundingClientRect(),c.width>=o.width?n.classList.add("__has-scroll-buttons"):n.classList.remove("__has-scroll-buttons"),0<=s.xOffset?(s.xOffset=0,s.style.transform="translateX(0)",r.classList.add("__disabled")):s.xOffset+c.width<o.width&&(s.xOffset=o.width-c.width,s.style.transform="translateX("+s.xOffset+"px)",d.classList.add("__disabled"))}}}function typecaseAccordionTabScroll(e){e&&e.preventDefault();var t=e.currentTarget;if(direction=t.classList.contains("__left")?1:-1,thisNavgroup=t.parentNode,thisTabgroup=thisNavgroup.querySelector(".wp-block-typecase-accordion-tabs--tabs"),offset=0,thisNavgroup.classList.contains("__mobile-tabs")){typecaseAccordionResetNavigation();var a,i=thisTabgroup.querySelector('button[aria-expanded="true"]');-1===direction?(a=i.parentNode.nextElementSibling)||(a=thisTabgroup.querySelector("li:first-child")):(a=i.parentNode.previousElementSibling)||(a=thisTabgroup.querySelector("li:last-child")),a=a.querySelector("button"),i.setAttribute("aria-expanded","false"),i.ariaControls.setAttribute("aria-hidden","true"),a.setAttribute("aria-expanded","true"),a.ariaControls.setAttribute("aria-hidden","false"),thisTabgroup.style.transform="translateX(-"+(a.parentNode.getBoundingClientRect().x-thisTabgroup.getBoundingClientRect().x)+"px)"}else offset=thisNavgroup.getBoundingClientRect().width*direction,thisTabgroup.xOffset+=offset,thisTabgroup.style.transform="translateX("+thisTabgroup.xOffset+"px)",typecaseAccordionResetNavigation()}function typecaseSliderSelectSlide(e){e.preventDefault(),typecaseSliderSelectSlideFromThumb(e.currentTarget)}function typecaseSliderSelectSlideFromThumb(e){if(e.mySlider&&e.mySlide){var t=e.mySlider.querySelector(".__active"),a=e.mySlider.querySelector(".__selected");t&&t.classList.remove("__active"),a&&a.classList.remove("__selected"),e.mySlide.classList.add("__active"),e.classList.add("__selected")}}function typecaseSliderChangeSlide(e,t){var a,i,n=e.getAttribute("data-slide-selector");a=e.querySelector(".__active"),"prev"==t?(i=a.previousElementSibling)&&!i.classList.contains("slide-controls")||(i=e.querySelector(n+":last-of-type"),a.insertAdjacentElement("beforebegin",i)):null!==(i=a.nextElementSibling)&&"NAV"!=i.tagName||(i=e.querySelector(n+":first-of-type"),a.insertAdjacentElement("afterend",i)),e.classList.remove("transitioning"),window.setTimeout(function(e,t,a,i){e.classList.remove("__active"),t.classList.add("__active"),document.dispatchEvent(new CustomEvent("typecase|slide-changed",{detail:{slider:i,slide:t,direction:a}})),i.dispatchEvent(new CustomEvent("typecase|slide-changed",{detail:{slide:t,direction:a}}))},50,a,i,t,e)}function typecaseSliderClickNav(e){var t=e.currentTarget.classList.contains("prev")?"prev":"next";typecaseSliderChangeSlide(e.currentTarget.parentNode.parentNode,t)}function typecaseSliderSwiped(e){typecaseSliderChangeSlide(e.currentTarget,"left"===e.detail.direction?"next":"prev")}function typecaseSliderInstall(e,t){var a;if(void 0===e&&(e=".wp-block-typecase-slider"),void 0===t&&(t=e+"-slide"),"string"==typeof e)a=document.querySelectorAll(e);else{if("object"!=typeof e)return!1;a=e.length?e:[e]}for(var i=0;i<a.length;i+=1){var n=document.createElement("nav"),s=document.createElement("button"),o=document.createElement("button"),c=a[i].querySelectorAll(t),r=a[i].querySelector(t+":first-of-type");if(r){r.classList.add("__active"),n.classList.add("slider-controls"),s.classList.add("slider-controls--button"),s.classList.add("prev"),s.innerHTML="<span>Previous</span>",s.addEventListener("click",typecaseSliderClickNav),o.classList.add("slider-controls--button"),o.classList.add("next"),o.innerHTML="<span>Next</span>",o.addEventListener("click",typecaseSliderClickNav),n.appendChild(s),n.appendChild(o),a[i].appendChild(n),a[i].classList.add("__ready"),a[i].classList.add("is-typecase-slider"),a[i].setAttribute("data-slide-selector",t);for(var d=0;d<c.length;d+=1)if(c[d].id)for(var l=document.querySelectorAll('a[href="#'+c[d].id+'"]'),p=0;p<l.length;p+=1)l[p].mySlider=a[i],l[p].mySlide=c[d],l[p].addEventListener("click",typecaseSliderSelectSlide);new Swipr(a[i]).addEventListener("swipr|swiped",typecaseSliderSwiped),a[i].dispatchEvent(new Event("typecase|slider-installed"))}}}!function(){var e;if(typecaseAccordionTabInstall(),(e=function(e,t,a){a=a||window;var i=!1;a.addEventListener(e,function(){i||(i=!0,requestAnimationFrame(function(){a.dispatchEvent(new n(t)),i=!1}))})})("resize","optimizedResize"),e("scroll","optimizedScroll"),window.addEventListener("optimizedResize",typecaseAccordionResetNavigation),document.addEventListener("optimizedScroll",typecaseAccordionResetNavigation),"function"==typeof window.CustomEvent)return;function n(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var a=document.createEvent("CustomEvent");return a.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),a}n.prototype=window.Event.prototype,window.CustomEvent=n}(),typecaseSliderInstall(),document.dispatchEvent(new Event("typecase|installed"));
//# sourceMappingURL=typecase.min.js.map