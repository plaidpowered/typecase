!function(e){function t(l){if(n[l])return n[l].exports;var a=n[l]={i:l,l:!1,exports:{}};return e[l].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,l){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:l})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=4)}({4:function(e,t){function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l,a=wp.components,r=(a.Dashicon,a.IconButton),o=a.PanelBody,c=(a.RangeControl,a.TextControl),i=a.ToggleControl,m=a.Toolbar,s=a.withNotices,u=wp.element.Fragment,p=wp.blocks,g=(p.createBlock,p.registerBlockType),b=wp.editor,d=(b.URLInput,b.BlockControls),f=b.InspectorControls,w=(b.MediaPlaceholder,b.MediaUpload),v=b.AlignmentToolbar,E=b.RichText;g("typecase/email-signup",(l={title:"Email Signup Form",icon:"email",description:"Collect some emails",attributes:{},category:"widgets",keywords:[],supports:{html:!1,anchor:!1}},n(l,"attributes",{title:{type:"array",source:"children",selector:"h4"},content:{type:"array",source:"children",selector:"p"},image:{type:"string"},id:{type:"number"},contentAlign:{type:"string",default:"left"},textReverse:{type:"boolean",default:!1},formAction:{type:"string",default:""},submitLabel:{type:"string",default:"Subscribe"}}),n(l,"edit",s(function(e){var t=e.attributes,n=e.setAttributes,l=e.className,a=t.id,s=t.title,p=t.content,g=t.image,b=t.contentAlign,h=t.textReverse,y=t.submitLabel,N=t.formAction,k=function(e){if(!e||!e.url)return void n({image:void 0,id:void 0});n({image:e.url,id:e.id})},x=l;"left"!==b&&(x+=" has-"+b+"-content");var C=wp.element.createElement(u,null,wp.element.createElement(d,null,wp.element.createElement(v,{value:b,onChange:function(e){n({contentAlign:e})}}),wp.element.createElement(m,null,wp.element.createElement(w,{onSelect:k,type:"image",value:a,allowedTypes:["image"],render:function(e){var t=e.open;return wp.element.createElement(r,{className:"components-toolbar__control",label:"Edit image",icon:"format-image",onClick:t})}})))),A=wp.element.createElement("img",{className:"background",src:g});return g||(x+=" no-image-selected",upload=""),wp.element.createElement(u,null,wp.element.createElement(u,null,C,wp.element.createElement(f,null,wp.element.createElement(o,{title:"Form Content Settings"},wp.element.createElement(i,{label:"Reverse Text Color (for dark photos)",checked:!!h,onChange:function(){return n({textReverse:!h})}})),wp.element.createElement(o,{title:"Form Settings"},wp.element.createElement(c,{label:"Form Action",value:N,onChange:function(e){n({formAction:e})}}),wp.element.createElement(c,{label:"Submit Label",value:y,placeholder:"Subscribe",onChange:function(e){n({submitLabel:e})}})))),wp.element.createElement("figure",{className:x},A,wp.element.createElement("figcaption",null,wp.element.createElement(E,{tagName:"h4",className:"wp-block-cover-image-title",placeholder:"Write title\u2026",value:s,onChange:function(e){return n({title:e})},inlineToolbar:!0}),wp.element.createElement(E,{tagName:"p",className:"wp-block-cover-image-text",placeholder:"Write text\u2026",value:p,onChange:function(e){return n({content:e})},inlineToolbar:!0}))))})),n(l,"save",function(e){var t,l=e.attributes,a=e.className,r=l.image,o=l.title,c=l.content,i=l.contentAlign,m=l.submitLabel,s=l.textReverse,u=l.formAction,p=a,g="--form";return"left"!==i&&(p+=" has-"+i+"-content"),s&&(g+=" reverse-text-color"),wp.element.createElement("aside",{className:p},wp.element.createElement("img",{className:"background",src:r}),wp.element.createElement("form",{className:g,action:u,method:"POST"},o&&o.length>0&&wp.element.createElement(E.Content,{tagName:"h4",className:"wp-block-cta-title",value:o}),c&&c.length>0&&wp.element.createElement(E.Content,{tagName:"p",className:"wp-block-cta-text",value:c}),wp.element.createElement("div",{className:"wp-block-typecase-email-signup--fields"},wp.element.createElement("input",(t={type:"text",name:"email"},n(t,"type","email"),n(t,"className","wp-block-typecase-email-signup--input"),t)),wp.element.createElement("button",{type:"submit",className:"wp-block-typecase-email-signup--submit"},m||"Subscribe"))))}),l))}});